var accordionBinding=new Shiny.InputBinding;$.extend(accordionBinding,{find:function(a){return $(a).find(".accordion")},getValue:function(a){var e=$(a).children(".card.active").index()+1;if(0!==e)return e},setValue:function(a,e){$(a).children(".card.active").removeClass("active"),$(a).children().eq(e-1).addClass("active"),$(a).children().eq(e-1).find('[data-toggle="collapse"]').click(),$(a).trigger("change")},receiveMessage:function(a,e){this.setValue(a,e)},subscribe:function(a,e){$(a).on("change",(function(a){e()})),$(a).find('[data-toggle="collapse"]').on("click",(function(t){$(this).closest(".card").hasClass("active")||$(a).children(".card.active").removeClass("active"),$(this).closest(".card").addClass("active"),e()}))},unsubscribe:function(a){$(a).off(".accordionBinding")}}),Shiny.inputBindings.register(accordionBinding,"accordion-input");const validStatuses=["primary","secondary","success","info","warning","danger"],validStatusesPlus=["dark","white","lightblue","navy","orange","fuchsia","purple","indigo","gray","gray-dark","pink","maroon","teal","lime","olive","green","yellow","red","blue"];var cardBinding=new Shiny.InputBinding;$.extend(cardBinding,{find:function(a){return $(a).find(".card.bs4Dash")},getValue:function(a){var e=$(a).parent().find("script[data-for='"+a.id+"']");e=JSON.parse(e.html());var t,i=$(a).hasClass("collapsed-card"),n=$(a).css("display"),s=$(a).hasClass("maximized-card");return t="none"!==n,s?$(a).find("[data-card-widget = 'collapse']").hide():$(a).find("[data-card-widget = 'collapse']").show(),{collapsible:e.collapsible,collapsed:i,closable:e.closable,visible:t,maximizable:e.maximizable,maximized:s,status:e.status,solidHeader:e.solidHeader,background:e.background,width:e.width,height:e.height}},_updateWidth:function(a,e,t){$(a).parent().toggleClass("col-sm-"+e),$(a).parent().addClass("col-sm-"+t),$(a).trigger("resize")},setValue:function(a,e){var t=$(a).parent().find("script[data-for='"+a.id+"']");if(t=JSON.parse(t.html()),"update"===e.action){var i=$(a).hasClass("user-card"),n=$(a).hasClass("social-card");if(e.options.hasOwnProperty("title")&&e.options.title!==t.title){var s;s="string"!=typeof e.options.title?$.parseHTML(e.options.title[0]):$.parseHTML(e.options.title);var r=$(a).find(".card-tools");n?$(a).find(".user-block").replaceWith($(s)):i?("string"==typeof e.options.title?(s=[s[0],s[2]],$(a).removeClass("widget-user-2").addClass("widget-user"),$(a).find(".widget-user-header").replaceWith($(s[0])),$(s[1]).insertAfter($(a).find(".widget-user-header"))):($(a).removeClass("widget-user").addClass("widget-user-2"),$(a).find(".widget-user-image").remove(),$(a).find(".widget-user-header").replaceWith($(s)),null!==e.options.status&&(e.options.gradient?$(a).find(".widget-user-header").addClass("bg-gradient-",c):$(a).find(".widget-user-header").addClass("bg-",c))),$(a).find(".widget-user-header").prepend($(r))):($(s).hasClass("card-title")||$(s).addClass("card-title"),$(a).find(".card-title").replaceWith($(s))),t.title=e.options.title}if(e.options.hasOwnProperty("collapsible")&&e.options.collapsible!==t.collapsible&&(e.options.collapsible?0===$(a).find('[data-card-widget = "collapse"]').length&&($(a).find(".card-tools.float-right").prepend($('<button class="btn btn-tool btn-sm" data-card-widget="collapse"><i class="fa fa-minus"></i></button>')),t.collapsible=!0):($(a).find('[data-card-widget = "collapse"]').remove(),t.collapsible=!1)),e.options.hasOwnProperty("closable")&&e.options.closable!==t.closable&&(e.options.closable?0===$(a).find('[data-card-widget = "remove"]').length&&(0===$(a).find('[data-card-widget = "maximize"]').length?$(a).find(".card-tools.float-right").append($('<button class="btn btn-tool btn-sm" data-card-widget="remove"><i class="fa fa-times"></i></button>')):$('<button class="btn btn-tool btn-sm" data-card-widget="remove"><i class="fa fa-times"></i></button>').insertBefore($(a).find('[data-card-widget = "maximize"]')),t.closable=!0):($(a).find('[data-card-widget = "remove"]').remove(),t.closable=!1)),e.options.hasOwnProperty("maximizable")&&e.options.maximizable!==t.maximizable&&(e.options.maximizable?0===$(a).find('[data-card-widget = "maximize"]').length&&($(a).find(".card-tools.float-right").append($('<button class="btn btn-tool btn-sm" data-card-widget="maximize"><i class="fa fa-expand"></i></button>')),t.maximizable=!0):($(a).find('[data-card-widget = "maximize"]').remove(),t.maximizable=!1)),e.options.hasOwnProperty("solidHeader")&&!n&&!i)if(e.options.solidHeader!==t.solidHeader&&$(a).hasClass("card-outline"))$(a).removeClass("card-outline"),t.solidHeader=!0;else if($(a).hasClass("card-outline")||e.options.solidHeader){if($(a).hasClass("card-outline")){o=t.status||e.options.status;e.options.background&&o?($(a).removeClass("card-outline"),t.solidHeader=!0):t.background&&o&&($(a).removeClass("card-outline"),t.solidHeader=!1)}}else{var o=t.status||e.options.status;e.options.background&&o&&(null!==e.options.background||t.background&&o)||($(a).addClass("card-outline"),t.solidHeader=!1)}if(e.options.hasOwnProperty("status")&&!n&&e.options.status!==t.status){var d,l,c;if(null===e.options.status&&null!==t.status){if(i||$(a).removeClass("card-"+t.status),$(a).hasClass("card-outline")&&!i&&$(a).addClass("card-outline"),e.options.background){var u=e.options.background;validStatusesPlus.indexOf(u)>-1?$(a).find(".btn-tool").addClass("bg-"+u):validStatuses.indexOf(u)>-1&&$(a).find(".btn-tool").addClass("btn-"+u)}}else e.options.status&&(i?(l="bg-",e.options.gradient&&(l+="gradient-"),l+=e.options.status,$(a).find(".widget-user-header").addClass(l)):(l="card-"+e.options.status,$(a).addClass(l)),t.status&&(i?(d="bg-",t.gradient&&(d+="gradient-"),d+=t.status,$(a).find(".widget-user-header").removeClass(d)):(d="card-"+t.status,$(a).removeClass(d))),$(a).hasClass("card-outline")&&!i||(validStatusesPlus.indexOf(e.options.status)>-1?$(a).find(".btn-tool").addClass("bg-"+e.options.status):validStatuses.indexOf(e.options.status)>-1&&$(a).find(".btn-tool").addClass("btn-"+e.options.status)));(t.status||t.background)&&(t.status?c=t.status:t.background&&(c=t.background),validStatusesPlus.indexOf(c)>-1?$(a).find(".btn-tool").removeClass("bg-"+c):validStatuses.indexOf(c)>-1&&$(a).find(".btn-tool").removeClass("btn-"+c)),t.status=e.options.status}if(e.options.hasOwnProperty("background")&&e.options.background!==t.background){var b="bg-";if(newBgClass=b,t.background){if(t.gradient&&(b+="gradient-"),b+=t.background,i&&!t.status&&!e.options.status){var h=$(a).find(".widget-user-header");$(h).removeClass(b)}$(a).removeClass(b)}if(e.options.background){if((t.gradient||e.options.gradient)&&(newBgClass+="gradient-"),newBgClass+=e.options.background,i&&!t.status&&!e.options.status){h=$(a).find(".widget-user-header");$(h).addClass(newBgClass)}$(a).addClass(newBgClass)}t.gradient!==e.options.gradient&&void 0!==e.options.gradient&&(t.gradient=e.options.gradient),t.background=e.options.background}e.options.hasOwnProperty("width")&&e.options.width!==t.width&&(this._updateWidth(a,t.width,e.options.width),t.width=e.options.width),e.options.hasOwnProperty("height")&&e.options.height!==t.height&&(null===e.options.height?$(a).find(".card-body").css("height",""):$(a).find(".card-body").css("height",e.options.height),t.height=e.options.height),$(a).parent().find("script[data-for='"+a.id+"']").replaceWith('<script type="application/json" data-for="'+a.id+'">'+JSON.stringify(t)+"<\/script>")}else"restore"!=e?"none"!=$(a).css("display")&&$(a).CardWidget(e):($(a).show(),$(a).trigger("shown"))},receiveMessage:function(a,e){this.setValue(a,e),$(a).trigger("change")},subscribe:function(a,e){$(a).on("expanded.lte.cardwidget collapsed.lte.cardwidget",(function(a){setTimeout((function(){e()}),500)})),$(a).on("maximized.lte.cardwidget minimized.lte.cardwidget",(function(a){e()})),$(a).on("removed.lte.cardwidget",(function(a){setTimeout((function(){e()}),500)})),$(a).on("shown.cardBinding",(function(a){e()})),$(a).on("change.cardBinding",(function(a){setTimeout((function(){e()}),500)}))},unsubscribe:function(a){$(a).off(".cardBinding")}}),Shiny.inputBindings.register(cardBinding);var cardSidebarBinding=new Shiny.InputBinding;$.extend(cardSidebarBinding,{initialize:function(a){$(".direct-chat-contacts, .direct-chat-messages").css({transition:"transform .0s ease-in-out"});var e=$(a).attr("data-background")?$(a).attr("data-background"):"#343a40",t=$(a).attr("data-width")?parseInt($(a).attr("data-width")):100,i=1e4/t,n=$(a).closest(".direct-chat").find(".direct-chat-contacts");if($(n).css({background:`${e}`,width:`${t}%`}),"true"===$(a).attr("data-start-open")){var s=i-100;$(n).css({transform:`translate(${s}%, 0)`})}else $(n).css({transform:`translate(${i}%, 0)`});setTimeout((function(){$(".direct-chat-contacts, .direct-chat-messages").css({transition:"transform .5s ease-in-out"})}),300),"true"===$(a).attr("data-easy-close")&&$(document).mouseup((function(a){var e=$(".direct-chat-contacts"),t=$(".direct-chat-contacts-open");e.is(a.target)||0!==e.has(a.target).length||1===$(a.target).parents(".card-tools").length||t.find("[data-widget='chat-pane-toggle']").click()}))},find:function(a){return $(a).find('[data-widget="chat-pane-toggle"]')},getValue:function(a){var e=$(a).closest(".card");return $(e).hasClass("direct-chat-contacts-open")},receiveMessage:function(a,e){$(a).trigger("click"),$(a).trigger("shown")},subscribe:function(a,e){var t=this;$(a).on("click",(function(i){var n=1e4/($(a).attr("data-width")?parseInt($(a).attr("data-width")):100),s=n-100,r=i.currentTarget;setTimeout((function(i=r){var o=$(i).closest(".direct-chat").find(".direct-chat-contacts");t.getValue(a)?$(o).css({transform:`translate(${s}%, 0)`}):$(o).css({transform:`translate(${n}%, 0)`}),e()}),10)}))},unsubscribe:function(a){$(a).off(".cardSidebarBinding")}}),Shiny.inputBindings.register(cardSidebarBinding),$((function(){var a=!0;const e=()=>{a&&($(document).Toasts("create",{title:"Controlbar is pinned",close:!1,autohide:!0,delay:2e3}),a=!1)};$("#controlbar-toggle").on("click",(function(){$("body").hasClass("control-sidebar-push-slide")&&$(window).trigger("resize")})),$(window).click((function(a){if($(a.target).hasClass("action-button"))return null;if(0===$("aside.control-sidebar").find(a.target).length){var e=$(".control-sidebar").attr("data-pin");"false"!==e&&void 0!==e||($("body").removeClass("control-sidebar-slide-open"),$("#controlbar-toggle").trigger("collapsed.lte.controlsidebar"))}})),$("#controlbarPin").on("click",(function(){var a=$(this).children();a.toggleClass("fa-rotate-90 fa-lg"),$(".control-sidebar").attr("data-pin","false"==$(".control-sidebar").attr("data-pin")?"true":"false"),"true"===$(".control-sidebar").attr("data-pin")?(a.css("color","#007bff"),$("#controlbar-toggle").addClass("disabled"),e()):($("#controlbar-toggle").removeClass("disabled"),a.css("color",""))}));var t=!0,i=new Shiny.InputBinding;$.extend(i,{find:function(a){return $(a).find(".control-sidebar")},getValue:function(a){var i=$("body").hasClass("control-sidebar-slide-open"),n="true"===$(a).attr("data-pin");return i&&n&&t&&($("#controlbar-toggle").addClass("disabled"),$("#controlbarPin").children().css("color","#007bff"),e(),t=!1),"false"===$(a).attr("data-collapsed")?($("#controlbar-toggle").ControlSidebar("toggle"),$(a).attr("data-collapsed","true"),!0):$("body").hasClass("control-sidebar-slide-open")},receiveMessage:function(a,e){$("#controlbar-toggle").ControlSidebar("toggle")},subscribe:function(a,e){$("#controlbar-toggle").on("collapsed.lte.controlsidebar expanded.lte.controlsidebar",(function(t){$(a).trigger("shown"),setTimeout((function(){e()}),10)}))},unsubscribe:function(a){$(a).off(".controlbarBinding")}}),Shiny.inputBindings.register(i,"bs4Dash.controlbarBinding"),"false"===$(".control-sidebar").attr("data-overlay")&&$("body").addClass("control-sidebar-push-slide")})),$((function(){Shiny.addCustomMessageHandler("create-tooltip",(function(a){var e;a.id?e="#"+a.id:a.selector&&(e=a.selector),$(e).addClass("has-tooltip").tooltip(a.options),console.log(`'Tooltip created for ${e}'`)})),Shiny.addCustomMessageHandler("remove-tooltip",(function(a){var e="#"+a;$(e).hasClass("has-tooltip")&&($(e).removeClass("has-tooltip").tooltip("dispose"),console.log(`'Tooltip destroyed for ${e}'`))})),Shiny.addCustomMessageHandler("create-popover",(function(a){var e;a.id?e="#"+a.id:a.selector&&(e=a.selector),$(e).addClass("has-popover").popover(a.options),console.log(`'Popover created for ${e}'`)})),Shiny.addCustomMessageHandler("remove-popover",(function(a){var e="#"+a;$(e).hasClass("has-popover")&&($(e).removeClass("has-popover").popover("dispose"),console.log(`'Popover destroyed for ${e}'`))})),Shiny.addCustomMessageHandler("toast",(function(a){$(document).Toasts("create",a)})),Shiny.addCustomMessageHandler("create-alert",(function(a){var e;a.id?e=`#${a.id}`:a.selector&&(e=a.selector);var t,i,n,s,r,o,d=a.options;switch(t="alert alert-dismissible",void 0!==d.status&&(t=`${t} alert-${d.status}`),void 0!==d.elevation&&(t=`${t} elevation-${d.elevation}`),d.status){case"primary":n="info";break;case"danger":n="ban";break;case"info":n="info";break;case"warning":n="warning";break;case"success":n="check";break;default:console.warn(`${d.status} does not belong to allowed statuses!`)}s="",d.closable&&(s='<button type="button" class="close" data-dismiss="alert" aria-hidden="true">x</button>'),r=`<h5><i class="icon fa fa-${n}"></i>${d.title}</h5>`,o=d.content,i=`<div \n      id="${a.id}-alert" \n      class="${t}">\n        ${s}${r}${o}\n    </div>`,void 0!==d.width&&(i=`<div class="col-sm-${d.width}">${i}</div>`),0===$(`#${a.id}-alert`).length?($(e).append(i),Shiny.setInputValue(a.id,!0,{priority:"event"}),$(`#${a.id}-alert`).on("closed.bs.alert",(function(){Shiny.setInputValue(a.id,!1,{priority:"event"})})),$('[data-dismiss="alert"]').on("click",(function(){var a=$(this).parent.attr("id");$(`#${a}.`).trigger("closed.bs.alert")}))):console.warn(`${e} already has an alert!`)})),Shiny.addCustomMessageHandler("close-alert",(function(a){$(`#${a}-alert`).length>0?$(`#${a}-alert`).alert("close"):console.warn("Nothing to delete!")}))}));var ensureActivatedTab=function(){var a=$(".sidebar-menu a[data-toggle='tab']"),e=a.filter("[data-start-selected='1']");0===e.length&&(e=a.first()),0!==e.length&&($(".sidebar-menu").hasClass("bs4Dash-menu-output")?setTimeout((function(){adminlte.Treeview._jQueryInterface.call($('[data-widget="treeview"]'),"init"),e.tab("show")}),10):e.tab("show"),$(".sidebarMenuSelectedTabItem").attr("data-value",e.attr("data-value")))},deactivateOtherTabs=function(){$(".sidebar-menu a[data-toggle='tab'],.sidebar-menu li.has-treeview > a").not($(this)).removeClass("active"),$(this).hasClass("treeview-link")&&$(this).parents(".has-treeview").children().eq(0).addClass("active");var a=$(".sidebarMenuSelectedTabItem"),e=a.data("shiny-input-binding");void 0!==e&&(e.setValue(a,$(this).attr("data-value")),a.trigger("change"))};$((function(){$(".main-sidebar").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(){$(window).trigger("resize")})),$(document).on("shown.bs.tab",'.sidebar-menu a[data-toggle="tab"]',deactivateOtherTabs),ensureActivatedTab(),$(document).on("click",".has-treeview",(function(){var a=$(this);a.hasClass("menu-open")?a.trigger("collapsed.lte.treeview"):a.hasClass(".has-treeview")&&a.trigger("expanded.lte.treeview");var e=$(".sidebar.shiny-bound-input");setTimeout((function(){e.trigger("change")}),600)}));var a=new Shiny.InputBinding;$.extend(a,{find:function(a){return $(a).find(".sidebarMenuSelectedTabItem")},getValue:function(a){var e=$(a).attr("data-value");return"null"===e?null:e},setValue:function(a,e){var t=this;$(a).parent(".sidebar-menu").find("li:not(.treeview)").children("a").each((function(){if(t._getTabName($(this))===e)return $(this).tab("show"),$(this).hasClass("treeview-link")&&($(this).parents(".has-treeview").hasClass("menu-open")||$(this).parents(".has-treeview").children().eq(0).trigger("click")),$(a).attr("data-value",t._getTabName($(this))),!1}))},receiveMessage:function(a,e){e.hasOwnProperty("value")&&this.setValue(a,e.value)},subscribe:function(a,e){$(a).on("change.tabItemInputBinding",(function(){e()}))},unsubscribe:function(a){$(a).off(".tabItemInputBinding")},_getTabName:function(a){return a.attr("data-value")}}),Shiny.inputBindings.register(a,"bs4Dash.tabItemInput");var e=new Shiny.InputBinding;$.extend(e,{find:function(a){return $(a).find(".main-sidebar")},getValue:function(a){return!$("body").hasClass("sidebar-collapse")},receiveMessage:function(a,e){$("[data-widget='pushmenu']").PushMenu("toggle")},subscribe:function(a,e){$("[data-widget='pushmenu']").on("collapsed.lte.pushmenu.sidebarBinding shown.lte.pushmenu.sidebarBinding",(function(a){e()}))},unsubscribe:function(a){$(a).off(".sidebarBinding")}}),Shiny.inputBindings.register(e,"bs4Dash.sidebarInput");var t=new Shiny.InputBinding;$.extend(t,{find:function(a){return $(a).find(".sidebar")},getValue:function(a){var e=$(a).find("li").filter(".menu-open").find("ul");return 1===e.length?e.attr("data-expanded"):null},setValue:function(a,e){$(a).find("[data-expanded='"+e+"']").prev().trigger("click")},subscribe:function(a,e){$(a).on("change.sidebarmenuExpandedInputBinding",(function(){e()}))},unsubscribe:function(a){$(a).off(".sidebarmenuExpandedInputBinding")}}),Shiny.inputBindings.register(t,"bs4Dash.sidebarmenuExpandedInputBinding"),"true"===$(".main-sidebar").attr("data-fixed")&&$("body").addClass("layout-fixed")})),$((function(){$navbar=$(".main-header.navbar"),$(document).on("shiny:connected",(function(a){Shiny.unbindAll(),$.extend(Shiny.inputBindings.bindingNames["shiny.bootstrapTabInput"].binding,{getValue:function(a){var e=$(a).find("li:not(.dropdown)").children("a.active");return 1===e.length?this._getTabName(e):null}}),Shiny.bindAll()})),"true"===$(".main-footer").attr("data-fixed")&&$("body").addClass("layout-footer-fixed");var a=$(".navbar-right").find(".dropdown-menu");if($(a).each((function(){$(this).hasClass("dropdown-menu-right")||$(this).addClass("dropdown-menu-right")})),$('.user-block [data-toggle="collapse"]').on("click",(function(){$(this).children("i").hasClass("fa-plus")?$(this).children("i").attr("class","fa fa-minus"):$(this).children("i").attr("class","fa fa-plus")})),1==$("body").attr("data-fullscreen")){$('<li class="nav-item">\n      <a class="nav-link" data-widget="fullscreen" href = "#" role = "button" >\n        <i class="fas fa-expand-arrows-alt"></i>\n      </a>\n    </li > ').insertBefore($('[data-widget="control-sidebar"]').parent())}if(1==$("body").attr("data-scrollToTop")){var e=$("<div />");e.html('<i class="fa fa-chevron-up"></i>'),e.css({position:"fixed",bottom:"20px",right:"25px",width:"40px",height:"40px",color:"#eee","font-size":"","line-height":"40px","text-align":"center","background-color":"#222d32",cursor:"pointer","border-radius":"5px","z-index":"99999",opacity:".7",display:"none"}),e.on("mouseenter",(function(){$(this).css("opacity","1")})),e.on("mouseout",(function(){$(this).css("opacity",".7")})),$(".wrapper").append(e),$(window).scroll((function(){$(window).scrollTop()>=150?$(e).is(":visible")||$(e).fadeIn(500):$(e).fadeOut(500)})),$(e).click((function(){$("html, body").animate({scrollTop:0},500)}))}if($(".main-sidebar .nav-item").on("click",(function(){$("html, body").animate({scrollTop:0},0)})),2==$("body").attr("data-help")||1==$("body").attr("data-help")){var t=$("<input />",{type:"checkbox",id:"help_switch",class:"custom-control-input"}).on("click",(function(){$(this).is(":checked")?($('[data-toggle="tooltip"]').tooltip("enable"),$('[data-toggle="popover"]').popover({trigger:"hover"}),$('[data-toggle="popover"]').popover("enable")):($('[data-toggle="tooltip"]').tooltip("disable"),$('[data-toggle="popover"]').popover("disable"))})),i=$("<div />",{class:"custom-control custom-switch mx-2 mt-2"}).append(t).append('<label class="custom-control-label" for="help_switch"><i class="fa fa-question"></i></label>');$(".nav-item #controlbar-toggle")?i.insertBefore($("#controlbar-toggle").parent()):$navbar.append(i),$(document).on("shiny:connected",(function(){2!=$("body").attr("data-help")&&1!=$("body").attr("data-help")||(t.click(),1==$("body").attr("data-help")&&t.click())}))}$(document).one("shiny:connected",(function(){$("body").hasClass("dark-mode")?Shiny.setInputValue("dark_mode",!0,{priority:"event"}):Shiny.setInputValue("dark_mode",!1,{priority:"event"})})),getNavbarColor=function(){for(let a of s)if($(".main-header").attr("class").search(a)>-1)return a};var n=["navbar-primary","navbar-secondary","navbar-info","navbar-success","navbar-danger","navbar-indigo","navbar-purple","navbar-pink","navbar-maroon","navbar-fuchsia","navbar-navy","navbar-lightblue","navbar-lime","navbar-teal","navbar-olive","navbar-gray-dark","navbar-gray"],s=n.concat(["navbar-warning","navbar-white","navbar-orange"]);if(updateNavbarTheme=function(a){var e=$(".main-header");e.removeClass("navbar-dark").removeClass("navbar-light"),s.forEach((function(a){e.removeClass(a)})),n.indexOf(a)>-1?e.addClass("navbar-dark"):e.addClass("navbar-light"),e.addClass(a)},updateNavbarIconColor=function(a){var e=n.indexOf(a)>-1?"white":"rgba(0,0,0,.5)";$(".dark-theme-icon").css("color",e),$('[for="help_switch"] i').css("color",e)},2==$("body").attr("data-dark")||1==$("body").attr("data-dark")){var r=$("<input />",{type:"checkbox",id:"theme_switch",class:"custom-control-input"}).on("click",(function(){var a;$(".navbar-themer-chip").length>0?$(".navbar-themer-chip").filter((function(){"solid"===$(this).css("border-style")&&(a="navbar-"+$(this).attr("class").split("elevation-2")[0].trim().replace("bg-",""))})):a=getNavbarColor(),$(this).is(":checked")?($("body").addClass("dark-mode"),void 0!==a&&"navbar-white"!==a||(a="navbar-gray-dark"),updateNavbarTheme(a),$(".main-sidebar").length>0&&($(".main-sidebar").attr("class",$(".main-sidebar").attr("class").replace("light","dark")),$("#sidebar-skin").prop("checked",!0),$(".sidebar-themer-icon").removeClass("fa-sun").addClass("fa-moon")),$(".control-sidebar").length>0&&($(".control-sidebar").attr("class",$(".control-sidebar").attr("class").replace("light","dark")),$("#controlbar-skin").prop("checked",!0),$(".controlbar-themer-icon").removeClass("fa-sun").addClass("fa-moon")),$(".dark-theme-icon").removeClass("fa-sun").addClass("fa-moon"),Shiny.setInputValue("dark_mode",!0,{priority:"event"})):($("body").removeClass("dark-mode"),void 0!==a&&"navbar-gray-dark"!==a||(a="navbar-white"),updateNavbarTheme(a),$(".main-sidebar").length>0&&($(".main-sidebar").attr("class",$(".main-sidebar").attr("class").replace("dark","light")),$("#sidebar-skin").prop("checked",!1),$(".sidebar-themer-icon").removeClass("fa-moon").addClass("fa-sun")),$(".control-sidebar").length>0&&($(".control-sidebar").attr("class",$(".control-sidebar").attr("class").replace("dark","light")),$("#controlbar-skin").prop("checked",!1),$(".controlbar-themer-icon").removeClass("fa-moon").addClass("fa-sun")),$(".dark-theme-icon").removeClass("fa-moon").addClass("fa-sun"),Shiny.setInputValue("dark_mode",!1,{priority:"event"})),updateNavbarIconColor(a)})),o=$("body").hasClass("dark-mode")?'<i class="dark-theme-icon fa fa-moon"></i>':'<i class="dark-theme-icon fa fa-sun"></i>',d=$("<div />",{class:"custom-control custom-switch mx-2 mt-2"}).append(r).append(`<label class="custom-control-label" for="theme_switch">${o}</label>`);$(".nav-item #controlbar-toggle")?d.insertBefore($("#controlbar-toggle").parent()):$navbar.append(d),2==$("body").attr("data-dark")&&$(document).on("shiny:connected",(function(){r.click()}))}void 0!==getNavbarColor()&&(updateNavbarTheme(getNavbarColor()),updateNavbarIconColor(getNavbarColor())),$(".themer-chip").hover((function(){$(this).css({opacity:1}).removeClass("elevation-2").addClass("elevation-4")}),(function(){$(this).css({opacity:.8}).removeClass("elevation-4").addClass("elevation-2")})),$(".navbar-themer-chip").on("click",(function(){$(this).css({"border-color":"yellow","border-style":"solid"}),$(".navbar-themer-chip").not(this).css({"border-color":"","border-style":""})})),$(".accents-themer-chip").on("click",(function(){$(this).css({"border-color":"yellow","border-style":"solid"}),$(".accents-themer-chip").not(this).css({"border-color":"","border-style":""})})),$(".sidebar-themer-chip").on("click",(function(){$(this).css({"border-color":"yellow","border-style":"solid"}),$(".sidebar-themer-chip").not(this).css({"border-color":"","border-style":""})})),$(".main-sidebar").length>0&&$(".main-sidebar").attr("class").match("dark")&&$("#sidebar-skin").prop("checked",!0),$("#sidebar-skin").on("click",(function(){var a;$(this).is(":checked")?(a=$(".main-sidebar").attr("class").replace("light","dark"),$(".main-sidebar").attr("class",a),$(".sidebar-themer-icon").removeClass("fa-sun").addClass("fa-moon")):(a=$(".main-sidebar").attr("class").replace("dark","light"),$(".main-sidebar").attr("class",a),$(".sidebar-themer-icon").removeClass("fa-moon").addClass("fa-sun"))}));var l=["sidebar-dark-primary","sidebar-dark-secondary","sidebar-dark-info","sidebar-dark-success","sidebar-dark-danger","sidebar-dark-indigo","sidebar-dark-purple","sidebar-dark-pink","sidebar-dark-maroon","sidebar-dark-fuchsia","sidebar-dark-navy","sidebar-dark-lightblue","sidebar-dark-lime","sidebar-dark-teal","sidebar-dark-olive","sidebar-dark-gray-dark","sidebar-dark-gray","sidebar-dark-light","sidebar-dark-warning","sidebar-dark-white","sidebar-dark-orange","sidebar-light-primary","sidebar-light-secondary","sidebar-light-info","sidebar-light-success","sidebar-light-danger","sidebar-light-indigo","sidebar-light-purple","sidebar-light-pink","sidebar-light-maroon","sidebar-light-fuchsia","sidebar-light-navy","sidebar-light-lightblue","sidebar-light-lime","sidebar-light-teal","sidebar-light-olive","sidebar-light-gray-dark","sidebar-light-gray","sidebar-light-light","sidebar-light-warning","sidebar-light-white","sidebar-light-orange"];updateSidebarTheme=function(a){var e=($("#sidebar-skin").is(":checked")?"sidebar-dark-":"sidebar-light-")+a.replace("bg-",""),t=$(".main-sidebar");l.forEach((function(a){t.removeClass(a)})),t.addClass(e)};var c=["accent-primary","accent-secondary","accent-info","accent-success","accent-danger","accent-indigo","accent-purple","accent-pink","accent-maroon","accent-fuchsia","accent-navy","accent-lightblue","accent-lime","accent-teal","accent-olive","accent-gray-dark","accent-gray","accent-light","accent-warning","accent-white","accent-orange"];updateAccentsTheme=function(a){var e=a,t=$("body");c.forEach((function(a){t.removeClass(a)})),t.addClass(e)},$(".control-sidebar").length>0&&$(".control-sidebar").attr("class").match("dark")&&$("#controlbar-skin").prop("checked",!0),$("#controlbar-skin").on("click",(function(){var a;$(this).is(":checked")?(a=$(".control-sidebar").attr("class").replace("light","dark"),$(".control-sidebar").attr("class",a),$(".controlbar-themer-icon").removeClass("fa-sun").addClass("fa-moon")):(a=$(".control-sidebar").attr("class").replace("dark","light"),$(".control-sidebar").attr("class",a),$(".controlbar-themer-icon").removeClass("fa-moon").addClass("fa-sun"))}))})),$((function(){noControlbar=0===$(".control-sidebar").length,noControlbar&&$("#controlbar-toggle").hide(),disableControlbar=$(".control-sidebar").attr("data-show"),disableControlbar||$("#controlbar-toggle").hide(),controlbarSlide=$(".control-sidebar").attr("data-slide"),controlbarSlide&&$("#controlbar-toggle").attr("data-controlsidebar-slide",controlbarSlide),disableSidebar=0===$(".main-sidebar").length,disableSidebar&&$(".nav-item > a[data-widget='pushmenu']").css("visibility","hidden"),"true"===$(".navbar").attr("data-fixed")&&$("body").addClass("layout-navbar-fixed")}));var menuOutputBinding=new Shiny.OutputBinding;$.extend(menuOutputBinding,{find:function(a){return $(a).find(".bs4Dash-menu-output")},onValueError:function(a,e){Shiny.unbindAll(a),this.renderError(a,e)},renderValue:function(a,e){var t;Shiny.unbindAll(a);var i=[];if(null!==e){"string"==typeof e?t=e:"object"==typeof e&&(t=e.html,i=e.deps);var n=$($.parseHTML(t));Shiny.renderHtml(n.html(),a,i),a.className="bs4Dash-menu-output shiny-bound-output "+n.attr("class"),$(a).attr("data-widget","treeview").attr("role","menu").attr("data-accordion","true"),Shiny.initializeInputs(a),Shiny.bindAll(a),$(a).hasClass("sidebar-menu")&&ensureActivatedTab()}}}),Shiny.outputBindings.register(menuOutputBinding,"bs4Dash.menuOutputBinding"),$(document).ready((function(){function a(){return $("ul.pagination").find("li.active")}function e(a){$(a).prev().find("a").hasClass("pagination-previous")?$(".pagination-previous").parent("li").css("display","none"):$(".pagination-previous").parent("li").css("display","block"),$(a).next().find("a").hasClass("pagination-next")?$(".pagination-next").parent("li").css("display","none"):$(".pagination-next").parent("li").css("display","block")}e(a()),$("ul.pagination a:not(.disabled, .pagination-previous, .pagination-next)").on("click",(function(){var t=a();$(t).removeClass("active"),$(this).parent().addClass("active"),e(t=$(this).parent())})),$("ul.pagination .pagination-previous").on("click",(function(){for(var e=a(),t=$(e).prev();$(t).hasClass("disabled");)t=$(t).prev();0==$(t).find("a").hasClass("pagination-previous")&&($(e).removeClass("active"),$(t).find("a").click())})),$("ul.pagination .pagination-next").on("click",(function(){for(var e=a(),t=$(e).next();$(t).hasClass("disabled");)t=$(t).next();0==$(t).find("a").hasClass("pagination-next")&&($(e).removeClass("active"),$(t).find("a").click())}));var t=new Shiny.InputBinding;$.extend(t,{initialize:function(a){},find:function(a){return $(a).find("ul.pagination")},getValue:function(a){return $(a).find("li.active a").attr("data-value")},setValue:function(a,e){},_disableTab:function(a,e){$(a).find('a[data-value="'+e+'"]').parent().removeClass("active").addClass("disabled").attr("tabindex","-1")},receiveMessage:function(a,e){if(e.hasOwnProperty("selected")){$(a).find(".active").removeClass("active");var t=$(a).find('a[data-value="'+e.selected+'"]');$(t).parent("li").hasClass("disabled")&&$(t).parent("li").removeClass("disabled").removeAttr("tabindex"),$(t).click()}if(e.hasOwnProperty("disabled")){if("string"==typeof e.disabled)this._disableTab(a,e.disabled);else for(i of e.disabled)this._disableTab(a,i);if(0==$(a).find("li.active").length){var n=$(a).find("a:not(.pagination-previous, .pagination-next)").parent("li:not(.disabled)");n.length>0&&$(n[0]).find("a").click()}}$(a).trigger("change")},subscribe:function(a,e){$(a).find("a").on("click",(function(){e()})),$(a).on("change",(function(){e()}))},unsubscribe:function(a){$(a).off(".paginationBinding")}}),Shiny.inputBindings.register(t)}));var bootstrapTabInputBinding=new Shiny.InputBinding;$.extend(bootstrapTabInputBinding,{find:function(a){return $(a).find("ul.nav.shiny-tab-input")},getValue:function(a){var e=$(a).find("li:not(.dropdown)").children("a.active");return 1===e.length?this._getTabName(e):null},setValue:function(a,e){let t=this,i=!1;if(e){$(a).find("li:not(.dropdown)").children("a").each((function(){return t._getTabName($(this))!==e||($(this).tab("show"),i=!0,!1)}))}i||$(a).trigger("change")},getState:function(a){return{value:this.getValue(a)}},receiveMessage:function(a,e){e.hasOwnProperty("value")&&this.setValue(a,e.value)},subscribe:function(a,e){$(a).on("change shown.bootstrapTabInputBinding shown.bs.tab.bootstrapTabInputBinding",(function(a){e()}))},unsubscribe:function(a){$(a).off(".bootstrapTabInputBinding")},_getTabName:function(a){return a.attr("data-value")||a.text()}}),Shiny.inputBindings.register(bootstrapTabInputBinding,"shiny.bootstrapTabInput"),Shiny.addCustomMessageHandler("user-messages",(function(a){var e,t=a.id,i=a.action,n=a.body,s=a.index;n.hasOwnProperty("text")&&(e=void 0===n.text.html?n.text:Shiny.renderHtml(n.text.html,$([]),n.text.dependencies).html);if(Shiny.unbindAll(),"remove"===i)$("#"+t).find(".direct-chat-msg").eq(s-1).remove();else if("add"===i){var r,o,d=n.author,l=n.date,c=n.image,u=n.type;"sent"===u?(r='<span class="direct-chat-name float-right">'+d+"</span>",o='<span class="direct-chat-timestamp float-left">'+l+"</span>"):(r='<span class="direct-chat-name float-left">'+d+"</span>",o='<span class="direct-chat-timestamp float-right">'+l+"</span>");var b,h=`<div class="direct-chat-infos clearfix">${r}${o}</div><img class="direct-chat-img" src="${c}"/><div class="direct-chat-text">${e}</div>`;b="sent"===u?'<div class="direct-chat-msg right">'+h+"</div>":'<div class="direct-chat-msg">'+h+"</div>",$("#"+t).find(".direct-chat-messages").append(b)}else if("update"===i){var g=new Date,p=g.getMonth()+1,f=g.getDate(),v=g.getFullYear()+"/"+((""+p).length<2?"0":"")+p+"/"+((""+f).length<2?"0":"")+f;$("#"+t).find(".direct-chat-text").eq(s-1).replaceWith('<div class="direct-chat-text"><small class="text-red">(modified: '+v+")</small><br>"+e+"</div>")}Shiny.initializeInputs(),Shiny.bindAll()}));
//# sourceMappingURL=bs4Dash.min.js.map
