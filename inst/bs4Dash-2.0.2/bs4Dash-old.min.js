var accordionBinding=new Shiny.InputBinding;$.extend(accordionBinding,{find:function(a){return $(a).find(".accordion")},getValue:function(a){var t=$(a).find(".active").index()+1;if(0!==t)return t},setValue:function(a,t){$(a).find(".active").removeClass("active"),$(a).children().eq(t-1).addClass("active"),$(a).children().eq(t-1).find('[data-toggle="collapse"]').click(),$(a).trigger("change")},receiveMessage:function(a,t){this.setValue(a,t)},subscribe:function(a,t){$(a).on("change",(function(a){t()})),$(a).find('[data-toggle="collapse"]').on("click",(function(e){$(this).closest(".card").hasClass("active")||$(a).find(".active").removeClass("active"),$(this).closest(".card").addClass("active"),t()}))},unsubscribe:function(a){$(a).off(".accordionBinding")}}),Shiny.inputBindings.register(accordionBinding,"accordion-input");const validStatuses=["primary","secondary","success","info","warning","danger"],validStatusesPlus=["dark","white","lightblue","navy","orange","fuchsia","purple","indigo","gray","gray-dark","pink","maroon","teal","lime","olive","green","yellow","red","blue"];var cardBinding=new Shiny.InputBinding;$.extend(cardBinding,{find:function(a){return $(a).find(".card")},getValue:function(a){var t=$(a).parent().find("script[data-for='"+a.id+"']");t=JSON.parse(t.html());var e,i=$(a).hasClass("collapsed-card"),n=$(a).css("display"),s=$(a).hasClass("maximized-card");return e="none"!==n,s?$(a).find("[data-card-widget = 'collapse']").hide():$(a).find("[data-card-widget = 'collapse']").show(),{collapsible:t.collapsible,collapsed:i,closable:t.closable,visible:e,maximizable:t.maximizable,maximized:s,status:t.status,solidHeader:t.solidHeader,background:t.background,width:t.width,height:t.height}},_updateWidth:function(a,t,e){$(a).parent().toggleClass("col-sm-"+t),$(a).parent().addClass("col-sm-"+e),$(a).trigger("resize")},setValue:function(a,t){var e=$(a).parent().find("script[data-for='"+a.id+"']");if(e=JSON.parse(e.html()),"update"===t.action){var i=$(a).hasClass("user-card"),n=$(a).hasClass("social-card");if(t.options.hasOwnProperty("title")&&t.options.title!==e.title){var s;s="string"!=typeof t.options.title?$.parseHTML(t.options.title[0]):$.parseHTML(t.options.title);var r=$(a).find(".card-tools");n?$(a).find(".user-block").replaceWith($(s)):i?("string"==typeof t.options.title?(s=[s[0],s[2]],$(a).removeClass("widget-user-2").addClass("widget-user"),$(a).find(".widget-user-header").replaceWith($(s[0])),$(s[1]).insertAfter($(a).find(".widget-user-header"))):($(a).removeClass("widget-user").addClass("widget-user-2"),$(a).find(".widget-user-image").remove(),$(a).find(".widget-user-header").replaceWith($(s)),null!==t.options.status&&(t.options.gradient?$(a).find(".widget-user-header").addClass("bg-gradient-",c):$(a).find(".widget-user-header").addClass("bg-",c))),$(a).find(".widget-user-header").prepend($(r))):($(s).hasClass("card-title")||$(s).addClass("card-title"),$(a).find(".card-title").replaceWith($(s))),e.title=t.options.title}if(t.options.hasOwnProperty("collapsible")&&t.options.collapsible!==e.collapsible&&(t.options.collapsible?0===$(a).find('[data-card-widget = "collapse"]').length&&($(a).find(".card-tools.float-right").prepend($('<button class="btn btn-tool btn-sm" data-card-widget="collapse"><i class="fa fa-minus"></i></button>')),e.collapsible=!0):($(a).find('[data-card-widget = "collapse"]').remove(),e.collapsible=!1)),t.options.hasOwnProperty("closable")&&t.options.closable!==e.closable&&(t.options.closable?0===$(a).find('[data-card-widget = "remove"]').length&&(0===$(a).find('[data-card-widget = "maximize"]').length?$(a).find(".card-tools.float-right").append($('<button class="btn btn-tool btn-sm" data-card-widget="remove"><i class="fa fa-times"></i></button>')):$('<button class="btn btn-tool btn-sm" data-card-widget="remove"><i class="fa fa-times"></i></button>').insertBefore($(a).find('[data-card-widget = "maximize"]')),e.closable=!0):($(a).find('[data-card-widget = "remove"]').remove(),e.closable=!1)),t.options.hasOwnProperty("maximizable")&&t.options.maximizable!==e.maximizable&&(t.options.maximizable?0===$(a).find('[data-card-widget = "maximize"]').length&&($(a).find(".card-tools.float-right").append($('<button class="btn btn-tool btn-sm" data-card-widget="maximize"><i class="fa fa-expand"></i></button>')),e.maximizable=!0):($(a).find('[data-card-widget = "maximize"]').remove(),e.maximizable=!1)),t.options.hasOwnProperty("solidHeader")&&!n&&!i)if(t.options.solidHeader!==e.solidHeader&&$(a).hasClass("card-outline"))$(a).removeClass("card-outline"),e.solidHeader=!0;else if($(a).hasClass("card-outline")||t.options.solidHeader){if($(a).hasClass("card-outline")){o=e.status||t.options.status;t.options.background&&o?($(a).removeClass("card-outline"),e.solidHeader=!0):e.background&&o&&($(a).removeClass("card-outline"),e.solidHeader=!1)}}else{var o=e.status||t.options.status;t.options.background&&o&&(null!==t.options.background||e.background&&o)||($(a).addClass("card-outline"),e.solidHeader=!1)}if(t.options.hasOwnProperty("status")&&!n&&t.options.status!==e.status){var d,l,c;if(null===t.options.status&&null!==e.status){if(i||$(a).removeClass("card-"+e.status),$(a).hasClass("card-outline")&&!i&&$(a).addClass("card-outline"),t.options.background){var u=t.options.background;validStatusesPlus.indexOf(u)>-1?$(a).find(".btn-tool").addClass("bg-"+u):validStatuses.indexOf(u)>-1&&$(a).find(".btn-tool").addClass("btn-"+u)}}else t.options.status&&(i?(l="bg-",t.options.gradient&&(l+="gradient-"),l+=t.options.status,$(a).find(".widget-user-header").addClass(l)):(l="card-"+t.options.status,$(a).addClass(l)),e.status&&(i?(d="bg-",e.gradient&&(d+="gradient-"),d+=e.status,$(a).find(".widget-user-header").removeClass(d)):(d="card-"+e.status,$(a).removeClass(d))),$(a).hasClass("card-outline")&&!i||(validStatusesPlus.indexOf(t.options.status)>-1?$(a).find(".btn-tool").addClass("bg-"+t.options.status):validStatuses.indexOf(t.options.status)>-1&&$(a).find(".btn-tool").addClass("btn-"+t.options.status)));(e.status||e.background)&&(e.status?c=e.status:e.background&&(c=e.background),validStatusesPlus.indexOf(c)>-1?$(a).find(".btn-tool").removeClass("bg-"+c):validStatuses.indexOf(c)>-1&&$(a).find(".btn-tool").removeClass("btn-"+c)),e.status=t.options.status}if(t.options.hasOwnProperty("background")&&t.options.background!==e.background){var b="bg-";if(newBgClass=b,e.background){if(e.gradient&&(b+="gradient-"),b+=e.background,i&&!e.status&&!t.options.status){var h=$(a).find(".widget-user-header");$(h).removeClass(b)}$(a).removeClass(b)}if(t.options.background){if((e.gradient||t.options.gradient)&&(newBgClass+="gradient-"),newBgClass+=t.options.background,i&&!e.status&&!t.options.status){h=$(a).find(".widget-user-header");$(h).addClass(newBgClass)}$(a).addClass(newBgClass)}e.gradient!==t.options.gradient&&void 0!==t.options.gradient&&(e.gradient=t.options.gradient),e.background=t.options.background}t.options.hasOwnProperty("width")&&t.options.width!==e.width&&(this._updateWidth(a,e.width,t.options.width),e.width=t.options.width),t.options.hasOwnProperty("height")&&t.options.height!==e.height&&(null===t.options.height?$(a).find(".card-body").css("height",""):$(a).find(".card-body").css("height",t.options.height),e.height=t.options.height),$(a).parent().find("script[data-for='"+a.id+"']").replaceWith('<script type="application/json" data-for="'+a.id+'">'+JSON.stringify(e)+"<\/script>")}else"restore"!=t?"none"!=$(a).css("display")&&$(a).CardWidget(t):($(a).show(),$(a).trigger("shown"))},receiveMessage:function(a,t){this.setValue(a,t),$(a).trigger("change")},subscribe:function(a,t){$(a).on("expanded.lte.cardwidget collapsed.lte.cardwidget",(function(a){setTimeout((function(){t()}),500)})),$(a).on("maximized.lte.cardwidget minimized.lte.cardwidget",(function(a){t()})),$(a).on("removed.lte.cardwidget",(function(a){setTimeout((function(){t()}),500)})),$(a).on("shown.cardBinding",(function(a){t()})),$(a).on("change.cardBinding",(function(a){setTimeout((function(){t()}),500)}))},unsubscribe:function(a){$(a).off(".cardBinding")}}),Shiny.inputBindings.register(cardBinding);var cardSidebarBinding=new Shiny.InputBinding;$.extend(cardSidebarBinding,{initialize:function(a){$(".direct-chat-contacts, .direct-chat-messages").css({transition:"transform .0s ease-in-out"});var t=$(a).attr("data-background")?$(a).attr("data-background"):"#343a40",e=$(a).attr("data-width")?parseInt($(a).attr("data-width")):100,i=1e4/e,n=$(a).closest(".direct-chat").find(".direct-chat-contacts");if($(n).css({background:`${t}`,width:`${e}%`}),"true"===$(a).attr("data-start-open")){var s=i-100;$(n).css({transform:`translate(${s}%, 0)`})}else $(n).css({transform:`translate(${i}%, 0)`});setTimeout((function(){$(".direct-chat-contacts, .direct-chat-messages").css({transition:"transform .5s ease-in-out"})}),300),"true"===$(a).attr("data-easy-close")&&$(document).mouseup((function(a){var t=$(".direct-chat-contacts"),e=$(".direct-chat-contacts-open");t.is(a.target)||0!==t.has(a.target).length||1===$(a.target).parents(".card-tools").length||e.find("[data-widget='chat-pane-toggle']").click()}))},find:function(a){return $(a).find('[data-widget="chat-pane-toggle"]')},getValue:function(a){var t=$(a).closest(".card");return $(t).hasClass("direct-chat-contacts-open")},receiveMessage:function(a,t){$(a).trigger("click"),$(a).trigger("shown")},subscribe:function(a,t){var e=this;$(a).on("click",(function(i){var n=1e4/($(a).attr("data-width")?parseInt($(a).attr("data-width")):100),s=n-100,r=i.currentTarget;setTimeout((function(i=r){var o=$(i).closest(".direct-chat").find(".direct-chat-contacts");e.getValue(a)?$(o).css({transform:`translate(${s}%, 0)`}):$(o).css({transform:`translate(${n}%, 0)`}),t()}),10)}))},unsubscribe:function(a){$(a).off(".cardSidebarBinding")}}),Shiny.inputBindings.register(cardSidebarBinding),$((function(){var a=!0;const t=()=>{a&&($(document).Toasts("create",{title:"Controlbar is pinned",close:!1,autohide:!0,delay:2e3}),a=!1)};$("#controlbar-toggle").on("click",(function(){$("body").hasClass("control-sidebar-push-slide")&&$(window).trigger("resize")})),$(window).click((function(a){if($(a.target).hasClass("action-button"))return null;if(0===$("aside.control-sidebar").find(a.target).length){var t=$(".control-sidebar").attr("data-pin");"false"!==t&&void 0!==t||($("body").removeClass("control-sidebar-slide-open"),$("#controlbar-toggle").trigger("collapsed.lte.controlsidebar"))}})),$("#controlbarPin").on("click",(function(){var a=$(this).children();a.toggleClass("fa-rotate-90 fa-lg"),$(".control-sidebar").attr("data-pin","false"==$(".control-sidebar").attr("data-pin")?"true":"false"),"true"===$(".control-sidebar").attr("data-pin")?(a.css("color","#007bff"),$("#controlbar-toggle").addClass("disabled"),t()):($("#controlbar-toggle").removeClass("disabled"),a.css("color",""))}));var e=!0,i=new Shiny.InputBinding;$.extend(i,{find:function(a){return $(a).find(".control-sidebar")},getValue:function(a){var i=$("body").hasClass("control-sidebar-slide-open"),n="true"===$(a).attr("data-pin");return i&&n&&e&&($("#controlbar-toggle").addClass("disabled"),$("#controlbarPin").children().css("color","#007bff"),t(),e=!1),"false"===$(a).attr("data-collapsed")?($("#controlbar-toggle").ControlSidebar("toggle"),$(a).attr("data-collapsed","true"),!0):$("body").hasClass("control-sidebar-slide-open")},receiveMessage:function(a,t){$("#controlbar-toggle").ControlSidebar("toggle")},subscribe:function(a,t){$("#controlbar-toggle").on("collapsed.lte.controlsidebar expanded.lte.controlsidebar",(function(e){$(a).trigger("shown"),setTimeout((function(){t()}),10)}))},unsubscribe:function(a){$(a).off(".controlbarBinding")}}),Shiny.inputBindings.register(i,"bs4Dash.controlbarBinding"),"false"===$(".control-sidebar").attr("data-overlay")&&$("body").addClass("control-sidebar-push-slide")})),$((function(){Shiny.addCustomMessageHandler("create-tooltip",(function(a){var t;a.id?t="#"+a.id:a.selector&&(t=a.selector),$(t).addClass("has-tooltip").tooltip(a.options),console.log(`'Tooltip created for ${t}'`)})),Shiny.addCustomMessageHandler("remove-tooltip",(function(a){var t="#"+a;$(t).hasClass("has-tooltip")&&($(t).removeClass("has-tooltip").tooltip("dispose"),console.log(`'Tooltip destroyed for ${t}'`))})),Shiny.addCustomMessageHandler("create-popover",(function(a){var t;a.id?t="#"+a.id:a.selector&&(t=a.selector),$(t).addClass("has-popover").popover(a.options),console.log(`'Popover created for ${t}'`)})),Shiny.addCustomMessageHandler("remove-popover",(function(a){var t="#"+a;$(t).hasClass("has-popover")&&($(t).removeClass("has-popover").popover("dispose"),console.log(`'Popover destroyed for ${t}'`))})),Shiny.addCustomMessageHandler("toast",(function(a){$(document).Toasts("create",a)})),Shiny.addCustomMessageHandler("create-alert",(function(a){var t;a.id?t=`#${a.id}`:a.selector&&(t=a.selector);var e,i,n,s,r,o,d=a.options;switch(e="alert alert-dismissible",void 0!==d.status&&(e=`${e} alert-${d.status}`),void 0!==d.elevation&&(e=`${e} elevation-${d.elevation}`),d.status){case"primary":n="info";break;case"danger":n="ban";break;case"info":n="info";break;case"warning":n="warning";break;case"success":n="check";break;default:console.warn(`${d.status} does not belong to allowed statuses!`)}d.closable&&(s='<button type="button" class="close" data-dismiss="alert" aria-hidden="true">x</button>'),r=`<h5><i class="icon fa fa-${n}"></i></h5>`,o=d.content,i=`<div \n      id="${a.id}-alert" \n      class="${e}">\n        ${s}${r}${o}\n    </div>`,void 0!==d.width&&(i=`<div class="col-sm-${d.width}">${i}</div>`),0===$(`#${a.id}-alert`).length?($(t).append(i),Shiny.setInputValue(a.id,!0,{priority:"event"}),$(`#${a.id}-alert`).on("closed.bs.alert",(function(){Shiny.setInputValue(a.id,!1,{priority:"event"})})),$('[data-dismiss="alert"]').on("click",(function(){var a=$(this).parent.attr("id");$(`#${a}.`).trigger("closed.bs.alert")}))):console.warn(`${t} already has an alert!`)})),Shiny.addCustomMessageHandler("close-alert",(function(a){$(`#${a}-alert`).length>0?$(`#${a}-alert`).alert("close"):console.warn("Nothing to delete!")}))}));var ensureActivatedTab=function(){var a=$(".sidebar-menu a[data-toggle='tab']"),t=a.filter("[data-start-selected='1']");0===t.length&&(t=a.first()),0!==t.length&&($(".sidebar-menu").hasClass("bs4Dash-menu-output")?setTimeout((function(){adminlte.Treeview._jQueryInterface.call($('[data-widget="treeview"]'),"init"),t.tab("show")}),10):t.tab("show"),$(".sidebarMenuSelectedTabItem").attr("data-value",t.attr("data-value")))},deactivateOtherTabs=function(){$(".sidebar-menu a[data-toggle='tab'],.sidebar-menu li.has-treeview > a").not($(this)).removeClass("active"),$(this).hasClass("treeview-link")&&$(this).parents(".has-treeview").children().eq(0).addClass("active");var a=$(".sidebarMenuSelectedTabItem"),t=a.data("shiny-input-binding");void 0!==t&&(t.setValue(a,$(this).attr("data-value")),a.trigger("change"))};$((function(){$(".main-sidebar").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(){$(window).trigger("resize")})),$(document).on("shown.bs.tab",'.sidebar-menu a[data-toggle="tab"]',deactivateOtherTabs),ensureActivatedTab(),$(document).on("click",".has-treeview",(function(){var a=$(this);a.hasClass("menu-open")?a.trigger("collapsed.lte.treeview"):a.hasClass(".has-treeview")&&a.trigger("expanded.lte.treeview");var t=$(".sidebar.shiny-bound-input");setTimeout((function(){t.trigger("change")}),600)}));var a=new Shiny.InputBinding;$.extend(a,{find:function(a){return $(a).find(".sidebarMenuSelectedTabItem")},getValue:function(a){var t=$(a).attr("data-value");return"null"===t?null:t},setValue:function(a,t){var e=this;$(a).parent(".sidebar-menu").find("li:not(.treeview)").children("a").each((function(){if(e._getTabName($(this))===t)return $(this).tab("show"),$(this).hasClass("treeview-link")&&($(this).parents(".has-treeview").hasClass("menu-open")||$(this).parents(".has-treeview").children().eq(0).trigger("click")),$(a).attr("data-value",e._getTabName($(this))),!1}))},receiveMessage:function(a,t){t.hasOwnProperty("value")&&this.setValue(a,t.value)},subscribe:function(a,t){$(a).on("change.tabItemInputBinding",(function(){t()}))},unsubscribe:function(a){$(a).off(".tabItemInputBinding")},_getTabName:function(a){return a.attr("data-value")}}),Shiny.inputBindings.register(a,"bs4Dash.tabItemInput");var t=new Shiny.InputBinding;$.extend(t,{find:function(a){return $(a).find(".main-sidebar")},getValue:function(a){return!$("body").hasClass("sidebar-collapse")},receiveMessage:function(a,t){$("[data-widget='pushmenu']").PushMenu("toggle")},subscribe:function(a,t){$("[data-widget='pushmenu']").on("collapsed.lte.pushmenu.sidebarBinding shown.lte.pushmenu.sidebarBinding",(function(a){t()}))},unsubscribe:function(a){$(a).off(".sidebarBinding")}}),Shiny.inputBindings.register(t,"bs4Dash.sidebarInput");var e=new Shiny.InputBinding;$.extend(e,{find:function(a){return $(a).find(".sidebar")},getValue:function(a){var t=$(a).find("li").filter(".menu-open").find("ul");return 1===t.length?t.attr("data-expanded"):null},setValue:function(a,t){$(a).find("[data-expanded='"+t+"']").prev().trigger("click")},subscribe:function(a,t){$(a).on("change.sidebarmenuExpandedInputBinding",(function(){t()}))},unsubscribe:function(a){$(a).off(".sidebarmenuExpandedInputBinding")}}),Shiny.inputBindings.register(e,"bs4Dash.sidebarmenuExpandedInputBinding"),"true"===$(".main-sidebar").attr("data-fixed")&&$("body").addClass("layout-fixed"),"true"===$(".main-sidebar").attr("data-collapsed")&&$("[data-widget='pushmenu']").PushMenu("toggle"),"true"===$(".main-sidebar").attr("data-minified")&&$("body").addClass("sidebar-mini")})),$((function(){$navbar=$(".main-header.navbar"),$(document).on("shiny:connected",(function(a){Shiny.unbindAll(),$.extend(Shiny.inputBindings.bindingNames["shiny.bootstrapTabInput"].binding,{getValue:function(a){var t=$(a).find("li:not(.dropdown)").children("a.active");return 1===t.length?this._getTabName(t):null}}),Shiny.bindAll()})),"true"===$(".main-footer").attr("data-fixed")&&$("body").addClass("layout-footer-fixed");var a=$(".navbar-right").find(".dropdown-menu");if($(a).each((function(){$(this).hasClass("dropdown-menu-right")||$(this).addClass("dropdown-menu-right")})),$('.user-block [data-toggle="collapse"]').on("click",(function(){$(this).children("i").hasClass("fa-plus")?$(this).children("i").attr("class","fa fa-minus"):$(this).children("i").attr("class","fa fa-plus")})),1==$("body").attr("data-fullscreen")){$('<li class="nav-item">\n      <a class="nav-link" data-widget="fullscreen" href = "#" role = "button" >\n        <i class="fas fa-expand-arrows-alt"></i>\n      </a>\n    </li > ').insertBefore($('[data-widget="control-sidebar"]').parent())}if(1==$("body").attr("data-scrollToTop")){var t=$("<div />");t.html('<i class="fa fa-chevron-up"></i>'),t.css({position:"fixed",bottom:"20px",right:"25px",width:"40px",height:"40px",color:"#eee","font-size":"","line-height":"40px","text-align":"center","background-color":"#222d32",cursor:"pointer","border-radius":"5px","z-index":"99999",opacity:".7",display:"none"}),t.on("mouseenter",(function(){$(this).css("opacity","1")})),t.on("mouseout",(function(){$(this).css("opacity",".7")})),$(".wrapper").append(t),$(window).scroll((function(){$(window).scrollTop()>=150?$(t).is(":visible")||$(t).fadeIn(500):$(t).fadeOut(500)})),$(t).click((function(){$("html, body").animate({scrollTop:0},500)}))}if($(".main-sidebar .nav-item").on("click",(function(){$("html, body").animate({scrollTop:0},0)})),1==$("body").attr("data-help")){var e=$("<input />",{type:"checkbox",id:"help_switch",class:"custom-control-input"}).on("click",(function(){$(this).is(":checked")?($('[data-toggle="tooltip"]').tooltip("enable"),$('[data-toggle="popover"]').popover({trigger:"hover"}),$('[data-toggle="popover"]').popover("enable")):($('[data-toggle="tooltip"]').tooltip("disable"),$('[data-toggle="popover"]').popover("disable"))})),i=$("<div />",{class:"custom-control custom-switch mx-2 mt-2"}).append(e).append('<label class="custom-control-label" for="help_switch"><i class="fa fa-question"></i></label>');$(".nav-item #controlbar-toggle")?i.insertBefore($("#controlbar-toggle").parent()):$navbar.append(i),e.click()}$(document).one("shiny:connected",(function(){$("body").hasClass("dark-mode")?Shiny.setInputValue("dark_mode",!0,{priority:"event"}):Shiny.setInputValue("dark_mode",!1,{priority:"event"})})),getNavbarColor=function(){for(let a of s)if($(".main-header").attr("class").search(a)>-1)return a};var n=["navbar-primary","navbar-secondary","navbar-info","navbar-success","navbar-danger","navbar-indigo","navbar-purple","navbar-pink","navbar-maroon","navbar-fuchsia","navbar-navy","navbar-lightblue","navbar-lime","navbar-teal","navbar-olive","navbar-gray-dark","navbar-gray"],s=n.concat(["navbar-warning","navbar-white","navbar-orange"]);if(2==$("body").attr("data-dark")||1==$("body").attr("data-dark")){var r=$("<input />",{type:"checkbox",id:"customSwitch1",class:"custom-control-input"}).on("click",(function(){var a;$(".navbar-themer-chip").filter((function(){"solid"===$(this).css("border-style")&&(a="navbar-"+$(this).attr("class").split("elevation-2")[0].trim().replace("bg-",""))})),$(this).is(":checked")?($("body").addClass("dark-mode"),void 0===a&&(a="navbar-gray-dark"),updateNavbarTheme(a),$(".main-sidebar").length>0&&($(".main-sidebar").attr("class",$(".main-sidebar").attr("class").replace("light","dark")),$("#sidebar-skin").prop("checked",!0),$(".sidebar-themer-icon").removeClass("fa-sun").addClass("fa-moon")),$(".control-sidebar").length>0&&($(".control-sidebar").attr("class",$(".control-sidebar").attr("class").replace("light","dark")),$("#controlbar-skin").prop("checked",!0),$(".controlbar-themer-icon").removeClass("fa-sun").addClass("fa-moon")),$(".dark-theme-icon").removeClass("fa-sun").addClass("fa-moon"),Shiny.setInputValue("dark_mode",!0,{priority:"event"})):($("body").removeClass("dark-mode"),void 0===a&&(a="navbar-white"),updateNavbarTheme(a),$(".main-sidebar").length>0&&($(".main-sidebar").attr("class",$(".main-sidebar").attr("class").replace("dark","light")),$("#sidebar-skin").prop("checked",!1),$(".sidebar-themer-icon").removeClass("fa-moon").addClass("fa-sun")),$(".control-sidebar").length>0&&($(".control-sidebar").attr("class",$(".control-sidebar").attr("class").replace("dark","light")),$("#controlbar-skin").prop("checked",!1),$(".controlbar-themer-icon").removeClass("fa-moon").addClass("fa-sun")),$(".dark-theme-icon").removeClass("fa-moon").addClass("fa-sun"),Shiny.setInputValue("dark_mode",!1,{priority:"event"}))})),o=$("body").hasClass("dark-mode")?'<i class="dark-theme-icon fa fa-moon"></i>':'<i class="dark-theme-icon fa fa-sun"></i>',d=$("<div />",{class:"custom-control custom-switch mx-2 mt-2"}).append(r).append(`<label class="custom-control-label" for="customSwitch1">${o}</label>`);$(".nav-item #controlbar-toggle")?d.insertBefore($("#controlbar-toggle").parent()):$navbar.append(d),2==$("body").attr("data-dark")&&$(document).on("shiny:connected",(function(){$("#customSwitch1").click()}))}$(".themer-chip").hover((function(){$(this).css({opacity:1}).removeClass("elevation-2").addClass("elevation-4")}),(function(){$(this).css({opacity:.8}).removeClass("elevation-4").addClass("elevation-2")})),$(".navbar-themer-chip").on("click",(function(){$(this).css({"border-color":"yellow","border-style":"solid"}),$(".navbar-themer-chip").not(this).css({"border-color":"","border-style":""})})),$(".accents-themer-chip").on("click",(function(){$(this).css({"border-color":"yellow","border-style":"solid"}),$(".accents-themer-chip").not(this).css({"border-color":"","border-style":""})})),$(".sidebar-themer-chip").on("click",(function(){$(this).css({"border-color":"yellow","border-style":"solid"}),$(".sidebar-themer-chip").not(this).css({"border-color":"","border-style":""})})),updateNavbarTheme=function(a){var t=$(".main-header");t.removeClass("navbar-dark").removeClass("navbar-light"),s.forEach((function(a){t.removeClass(a)})),n.indexOf(a)>-1?t.addClass("navbar-dark"):t.addClass("navbar-light"),t.addClass(a)},$(".main-sidebar").length>0&&$(".main-sidebar").attr("class").match("dark")&&$("#sidebar-skin").prop("checked",!0),$("#sidebar-skin").on("click",(function(){var a;$(this).is(":checked")?(a=$(".main-sidebar").attr("class").replace("light","dark"),$(".main-sidebar").attr("class",a),$(".sidebar-themer-icon").removeClass("fa-sun").addClass("fa-moon")):(a=$(".main-sidebar").attr("class").replace("dark","light"),$(".main-sidebar").attr("class",a),$(".sidebar-themer-icon").removeClass("fa-moon").addClass("fa-sun"))}));var l=["sidebar-dark-primary","sidebar-dark-secondary","sidebar-dark-info","sidebar-dark-success","sidebar-dark-danger","sidebar-dark-indigo","sidebar-dark-purple","sidebar-dark-pink","sidebar-dark-maroon","sidebar-dark-fuchsia","sidebar-dark-navy","sidebar-dark-lightblue","sidebar-dark-lime","sidebar-dark-teal","sidebar-dark-olive","sidebar-dark-gray-dark","sidebar-dark-gray","sidebar-dark-light","sidebar-dark-warning","sidebar-dark-white","sidebar-dark-orange","sidebar-light-primary","sidebar-light-secondary","sidebar-light-info","sidebar-light-success","sidebar-light-danger","sidebar-light-indigo","sidebar-light-purple","sidebar-light-pink","sidebar-light-maroon","sidebar-light-fuchsia","sidebar-light-navy","sidebar-light-lightblue","sidebar-light-lime","sidebar-light-teal","sidebar-light-olive","sidebar-light-gray-dark","sidebar-light-gray","sidebar-light-light","sidebar-light-warning","sidebar-light-white","sidebar-light-orange"];updateSidebarTheme=function(a){var t=($("#sidebar-skin").is(":checked")?"sidebar-dark-":"sidebar-light-")+a.replace("bg-",""),e=$(".main-sidebar");l.forEach((function(a){e.removeClass(a)})),e.addClass(t)};var c=["accent-primary","accent-secondary","accent-info","accent-success","accent-danger","accent-indigo","accent-purple","accent-pink","accent-maroon","accent-fuchsia","accent-navy","accent-lightblue","accent-lime","accent-teal","accent-olive","accent-gray-dark","accent-gray","accent-light","accent-warning","accent-white","accent-orange"];updateAccentsTheme=function(a){var t=a,e=$("body");c.forEach((function(a){e.removeClass(a)})),e.addClass(t)},$(".control-sidebar").length>0&&$(".control-sidebar").attr("class").match("dark")&&$("#controlbar-skin").prop("checked",!0),$("#controlbar-skin").on("click",(function(){var a;$(this).is(":checked")?(a=$(".control-sidebar").attr("class").replace("light","dark"),$(".control-sidebar").attr("class",a),$(".controlbar-themer-icon").removeClass("fa-sun").addClass("fa-moon")):(a=$(".control-sidebar").attr("class").replace("dark","light"),$(".control-sidebar").attr("class",a),$(".controlbar-themer-icon").removeClass("fa-moon").addClass("fa-sun"))}))})),$((function(){noControlbar=0===$(".control-sidebar").length,noControlbar&&$("#controlbar-toggle").hide(),disableControlbar=$(".control-sidebar").attr("data-show"),disableControlbar||$("#controlbar-toggle").hide(),controlbarSlide=$(".control-sidebar").attr("data-slide"),controlbarSlide&&$("#controlbar-toggle").attr("data-controlsidebar-slide",controlbarSlide),disableSidebar=0===$(".main-sidebar").length,disableSidebar&&$(".nav-item > a[data-widget='pushmenu']").css("visibility","hidden"),"true"===$(".navbar").attr("data-fixed")&&$("body").addClass("layout-navbar-fixed")}));var menuOutputBinding=new Shiny.OutputBinding;$.extend(menuOutputBinding,{find:function(a){return $(a).find(".bs4Dash-menu-output")},onValueError:function(a,t){Shiny.unbindAll(a),this.renderError(a,t)},renderValue:function(a,t){var e;Shiny.unbindAll(a);var i=[];if(null!==t){"string"==typeof t?e=t:"object"==typeof t&&(e=t.html,i=t.deps);var n=$($.parseHTML(e));Shiny.renderHtml(n.html(),a,i),a.className="bs4Dash-menu-output shiny-bound-output "+n.attr("class"),$(a).attr("data-widget","treeview").attr("role","menu").attr("data-accordion","true"),Shiny.initializeInputs(a),Shiny.bindAll(a),$(a).hasClass("sidebar-menu")&&ensureActivatedTab()}}}),Shiny.outputBindings.register(menuOutputBinding,"bs4Dash.menuOutputBinding");var bootstrapTabInputBinding=new Shiny.InputBinding;$.extend(bootstrapTabInputBinding,{find:function(a){return $(a).find("ul.nav.shiny-tab-input")},getValue:function(a){var t=$(a).find("li:not(.dropdown)").children("a.active");return 1===t.length?this._getTabName(t):null},setValue:function(a,t){let e=this,i=!1;if(t){$(a).find("li:not(.dropdown)").children("a").each((function(){return e._getTabName($(this))!==t||($(this).tab("show"),i=!0,!1)}))}i||$(a).trigger("change")},getState:function(a){return{value:this.getValue(a)}},receiveMessage:function(a,t){t.hasOwnProperty("value")&&this.setValue(a,t.value)},subscribe:function(a,t){$(a).on("change shown.bootstrapTabInputBinding shown.bs.tab.bootstrapTabInputBinding",(function(a){t()}))},unsubscribe:function(a){$(a).off(".bootstrapTabInputBinding")},_getTabName:function(a){return a.attr("data-value")||a.text()}}),Shiny.inputBindings.register(bootstrapTabInputBinding,"shiny.bootstrapTabInput"),Shiny.addCustomMessageHandler("user-messages",(function(a){var t,e=a.id,i=a.action,n=a.body,s=a.index;n.hasOwnProperty("text")&&(t=void 0===n.text.html?n.text:Shiny.renderHtml(n.text.html,$([]),n.text.dependencies).html);if(Shiny.unbindAll(),"remove"===i)$("#"+e).find(".direct-chat-msg").eq(s-1).remove();else if("add"===i){var r,o,d=n.author,l=n.date,c=n.image,u=n.type;"sent"===u?(r='<span class="direct-chat-name float-right">'+d+"</span>",o='<span class="direct-chat-timestamp float-left">'+l+"</span>"):(r='<span class="direct-chat-name float-left">'+d+"</span>",o='<span class="direct-chat-timestamp float-right">'+l+"</span>");var b,h=`<div class="direct-chat-infos clearfix">${r}${o}</div><img class="direct-chat-img" src="${c}"/><div class="direct-chat-text">${t}</div>`;b="sent"===u?'<div class="direct-chat-msg right">'+h+"</div>":'<div class="direct-chat-msg">'+h+"</div>",$("#"+e).find(".direct-chat-messages").append(b)}else if("update"===i){var g=new Date,p=g.getMonth()+1,f=g.getDate(),m=g.getFullYear()+"/"+((""+p).length<2?"0":"")+p+"/"+((""+f).length<2?"0":"")+f;$("#"+e).find(".direct-chat-text").eq(s-1).replaceWith('<div class="direct-chat-text"><small class="text-red">(modified: '+m+")</small><br>"+t+"</div>")}Shiny.initializeInputs(),Shiny.bindAll()}));
//# sourceMappingURL=bs4Dash.min.js.map
